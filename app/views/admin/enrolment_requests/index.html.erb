<h1>Enrollment Requests</h1>

<table class="table">
  <thead>
    <tr>
      <th>Batch</th>
      <th>Student</th>
      <th>Status</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @enrolment_requests.each do |enrolment_request| %>
      <tr>
        <td><%= enrolment_request.batch.name.capitalize %></td>
        <td><%= enrolment_request.student.email %></td>
        <td><%= enrolment_request.status.upcase %></td>
        <td><%= link_to 'Show', admin_enrolment_requests_path(enrolment_request), class: "btn btn-primary" %></td>
        <td><%= link_to 'Edit', edit_admin_enrolment_request_path(enrolment_request), class: "btn btn-secondary" %></td>
        <%
=begin%>
  This destroy method is not needed here.
<%
=end%>
        <%#= link_to 'Destroy', [:admin, enrolment_request], method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %> 
      
        <td><%= link_to 'Approve', approve_admin_enrolment_request_path(enrolment_request), method: :patch, class: "btn btn-success" %></td>
        <td><%= link_to 'Reject', reject_admin_enrolment_request_path(enrolment_request), method: :patch, class: "btn btn-danger" %></td>
      </tr>
    <% end %>
  </tbody>

</table>

<br>

<%= link_to 'New Enrolment Request', new_admin_enrolment_request_path, class: "btn btn-success" %>
